<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="1003pt" style="width:900px;height:1003px;" version="1.1" viewBox="0 0 900 1003" width="900pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><polygon fill="#FFFFFF" filter="url(#f1)" points="22,24,83,24,90,48.0039,407,48.0039,407,698,22,698,22,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="90" y1="48.0039" y2="48.0039"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="25" y="40.7059">Satellite</text><polygon fill="#FFFFFF" filter="url(#f1)" points="431,208,493,208,500,232.0039,893,232.0039,893,996,431,996,431,208" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="431" x2="500" y1="232.0039" y2="232.0039"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="434" y="224.7059">Capsule</text><rect fill="#FEFECE" filter="url(#f1)" height="50.0122" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="271" y="77"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="291.5" y="88.7481">«TakeSubnet»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="278" y="105.5922">ProvisioningSubnet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="272" x2="391" y1="111.0122" y2="111.0122"/><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="198" x="38" y="62.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="109" y="74.2481">«TakeOs»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="107.5" y="91.0922">SatelliteOs</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="235" y1="96.5122" y2="96.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="44" y="110.0422">description: OS for the Satellite machine</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="59" x="44" y="122.4222">family: RHEL</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="73" x="44" y="134.8022">version: '&gt;= 6.5'</text><rect fill="#FEFECE" filter="url(#f1)" height="103.9121" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="181" y="234"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="253.5" y="245.7481">«TakeHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="241" y="262.5922">SatelliteMachine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="182" x2="391" y1="268.0122" y2="268.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="38" x="187" y="281.5422">count: 1</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="67" x="187" y="293.9222">name: &lt;input&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="199" x="187" y="306.3022">subnet: &lt;reference to ProvisioningSubnet&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="138" x="187" y="318.6822">os: &lt;reference to SatelliteOs&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="107" x="187" y="331.0622">activation_key: &lt;input&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="54.3922" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="203" y="443"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="250.5" y="454.7481">«ProvisionHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="95" x="248" y="471.5922">ProvisionSatellite</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="204" x2="387" y1="477.0122" y2="477.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="173" x="209" y="490.5422">host: &lt;reference to SatelliteMachine&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="203" y="602.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="240" y="614.2481">«RemoteExecution»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="257.5" y="631.0922">InstallSatellite</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="204" x2="387" y1="636.5122" y2="636.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="173" x="209" y="650.0422">host: &lt;reference to SatelliteMachine&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="139" x="209" y="662.4222">command: "katello-installer ..."</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="123" x="209" y="674.8022">parameters: [password, ...]</text><rect fill="#FEFECE" filter="url(#f1)" height="50.0122" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="680" y="261"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="723.5" y="272.7481">«TakeSubnet»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="153" x="687" y="289.5922">CapsuleProvisioningSubnet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="681" x2="846" y1="295.0122" y2="295.0122"/><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="447" y="246.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="518.5" y="258.2481">«TakeOs»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="516" y="275.0922">CapsuleOs</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="448" x2="645" y1="280.5122" y2="280.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="187" x="453" y="294.0422">description: OS for the Capsule machine</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="59" x="453" y="306.4222">family: RHEL</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="73" x="453" y="318.8022">version: '&gt;= 6.5'</text><rect fill="#FEFECE" filter="url(#f1)" height="66.7722" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="447" y="608.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="514" y="620.2481">«TakeHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="478.5" y="637.0922">CapsuleSatelliteMachine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="448" x2="646" y1="642.5122" y2="642.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="188" x="453" y="656.0422">description: The satellite master machine</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="38" x="453" y="668.4222">count: 1</text><rect fill="#FEFECE" filter="url(#f1)" height="103.9121" style="stroke: #A80036; stroke-width: 1.5;" width="249" x="495" y="418"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="586.5" y="429.7481">«TakeHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="573" y="446.5922">CapsuleMachine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="496" x2="743" y1="452.0122" y2="452.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="67" x="501" y="465.5422">count: &lt;input&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="171" x="501" y="477.9222">name: &lt;template "capsule-#{index}"&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="237" x="501" y="490.3022">subnet: &lt;reference to CapsuleProvisioningSubnet&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="139" x="501" y="502.6822">os: &lt;reference to CapsuleOs&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="107" x="501" y="515.0622">activation_key: &lt;input&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="54.3922" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="682" y="615"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="730" y="626.7481">«ProvisionHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="726.5" y="643.5922">ProvisionCapsule</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="683" x2="867" y1="649.0122" y2="649.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="174" x="688" y="662.5422">host: &lt;reference to CapsuleMachine&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="91.5322" style="stroke: #A80036; stroke-width: 1.5;" width="431" x="447" y="746"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="607" y="757.7481">«RemoteExecution»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="569.5" y="774.5922">GenerateAndDistributeCertificates</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="448" x2="877" y1="780.0122" y2="780.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="216" x="453" y="793.5422">hosts: &lt;reference to CapsuleSatelliteMachine&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="419" x="453" y="805.9222">command: "&lt;% hosts.map(&amp;:name).each {|fqdn| `capsule-certs-generate --capsule-fqdn ..."</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="163" x="453" y="818.3022">params: [&lt;references to capsules&gt;]</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="113" x="453" y="830.6822">result: [&lt;capsule hosts&gt;]</text><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="529" y="900.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="606.5" y="912.2481">«RemoteExecution»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="623" y="929.0922">InstallCapsule</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="530" x2="794" y1="934.5122" y2="934.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="254" x="535" y="948.0422">host: &lt;reference to GenerateAndDistributeCertificates&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="145" x="535" y="960.4222">command: "capsule-installer ..."</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="195" x="535" y="972.8022">parameters: [oauth_key, oauth_secret, ...]</text><path d="M324.837,127.199 C318.459,153.278 308.281,194.895 299.944,228.983 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="298.728,233.955,304.7504,226.162,299.9151,229.098,296.9792,224.2627,298.728,233.955" style="stroke: #808080; stroke-width: 1.0;"/><path d="M169.331,141.925 C190.133,167.614 217.476,201.38 240.462,229.766 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="243.821,233.913,241.2649,224.4016,240.6741,230.0275,235.0481,229.4367,243.821,233.913" style="stroke: #808080; stroke-width: 1.0;"/><path d="M288.555,338.235 C290.119,370.209 292.071,410.117 293.415,437.587 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="293.675,442.909,297.2304,433.7243,293.4307,437.915,289.24,434.1152,293.675,442.909" style="stroke: #808080; stroke-width: 1.0;"/><path d="M295,497.254 C295,524.028 295,565.353 295,597.004 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="295,602.396,299,593.396,295,597.396,291,593.396,295,602.396" style="stroke: #808080; stroke-width: 1.0;"/><path d="M743.279,311.199 C722.702,337.492 689.765,379.578 662.967,413.82 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="659.731,417.955,668.4279,413.3329,662.8127,414.0176,662.128,408.4023,659.731,417.955" style="stroke: #808080; stroke-width: 1.0;"/><path d="M561.84,325.925 C571.948,351.404 585.208,384.827 596.412,413.066 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="598.335,417.913,598.7341,408.0722,596.4911,413.2654,591.2979,411.0225,598.335,417.913" style="stroke: #808080; stroke-width: 1.0;"/><path d="M666.228,522.072 C692.447,550.979 724.189,585.977 746.597,610.684 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="750.112,614.559,747.0301,605.2048,746.7535,610.8548,741.1035,610.5783,750.112,614.559" style="stroke: #808080; stroke-width: 1.0;"/><path d="M754.537,669.164 C739.326,689.355 718.134,717.486 699.868,741.733 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="696.729,745.9,705.3397,741.1192,699.7379,741.9067,698.9504,736.3049,696.729,745.9" style="stroke: #808080; stroke-width: 1.0;"/><path d="M572.808,675.663 C587.77,695.179 606.896,720.125 623.597,741.909 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="626.685,745.937,624.3853,736.3604,623.6436,741.9684,618.0355,741.2267,626.685,745.937" style="stroke: #808080; stroke-width: 1.0;"/><path d="M662,838.017 C662,856.167 662,876.95 662,894.999 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="662,900.013,666,891.013,662,895.013,658,891.013,662,900.013" style="stroke: #808080; stroke-width: 1.0;"/><path d="M391.212,111.836 C460.088,124.841 574.726,151.931 663,200 C690.525,214.989 717.204,238.535 736.072,257.202 " fill="none" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="739.74,260.866,736.2008,251.675,736.203,257.3319,730.5462,257.3342,739.74,260.866" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="647" y="185.889">provide subnet</text><path d="M360.807,338.068 C386.106,354.82 414.835,372.931 442,388 C459.064,397.465 477.412,406.824 495.603,415.644 " fill="none" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="500.224,417.875,493.8587,410.3595,495.7214,415.7009,490.3801,417.5636,500.224,417.875" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="443" y="381.889">provide activation key</text><path d="M334.652,497.064 C377.438,526.267 445.818,572.939 493.379,605.402 " fill="none" style="stroke: #FF0000; stroke-width: 1.0;"/><polygon fill="#FF0000" points="497.627,608.301,492.448,599.9238,493.4971,605.4825,487.9384,606.5316,497.627,608.301" style="stroke: #FF0000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="445" y="565.889">provide satellite instance</text></g></svg>