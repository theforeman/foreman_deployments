<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="680pt" style="width:536px;height:680px;" version="1.1" viewBox="0 0 536 680" width="536pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#f1)" height="50.0122" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="6" y="23"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="49.5" y="34.7481">«TakeSubnet»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="153" x="13" y="51.5922">CapsuleProvisioningSubnet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="172" y1="57.0122" y2="57.0122"/><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="199" x="207" y="8.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="278.5" y="20.2481">«TakeOs»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="276" y="37.0922">CapsuleOs</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="208" x2="405" y1="42.5122" y2="42.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="187" x="213" y="56.0422">description: OS for the Capsule machine</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="59" x="213" y="68.4222">family: RHEL</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="73" x="213" y="80.8022">version: '&gt;= 6.5'</text><rect fill="#FEFECE" filter="url(#f1)" height="66.7722" style="stroke: #A80036; stroke-width: 1.5;" width="200" x="325" y="312.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="392" y="324.2481">«TakeHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="356.5" y="341.0922">CapsuleSatelliteMachine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="326" x2="524" y1="346.5122" y2="346.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="188" x="331" y="360.0422">description: The satellite master machine</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="38" x="331" y="372.4222">count: 1</text><rect fill="#FEFECE" filter="url(#f1)" height="103.9121" style="stroke: #A80036; stroke-width: 1.5;" width="249" x="73" y="148"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="164.5" y="159.7481">«TakeHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="151" y="176.5922">CapsuleMachine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="74" x2="321" y1="182.0122" y2="182.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="67" x="79" y="195.5422">count: &lt;input&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="171" x="79" y="207.9222">name: &lt;template "capsule-#{index}"&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="237" x="79" y="220.3022">subnet: &lt;reference to CapsuleProvisioningSubnet&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="139" x="79" y="232.6822">os: &lt;reference to CapsuleOs&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="107" x="79" y="245.0622">activation_key: &lt;input&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="54.3922" style="stroke: #A80036; stroke-width: 1.5;" width="186" x="104" y="319"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="152" y="330.7481">«ProvisionHost»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="148.5" y="347.5922">ProvisionCapsule</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="105" x2="289" y1="353.0122" y2="353.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="174" x="110" y="366.5422">host: &lt;reference to CapsuleMachine&gt;</text><rect fill="#FEFECE" filter="url(#f1)" height="91.5322" style="stroke: #A80036; stroke-width: 1.5;" width="431" x="96" y="440"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="256" y="451.7481">«RemoteExecution»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="218.5" y="468.5922">GenerateAndDistributeCertificates</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="97" x2="526" y1="474.0122" y2="474.0122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="216" x="102" y="487.5422">hosts: &lt;reference to CapsuleSatelliteMachine&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="419" x="102" y="499.9222">command: "&lt;% hosts.map(&amp;:name).each {|fqdn| `capsule-certs-generate --capsule-fqdn ..."</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="163" x="102" y="512.3022">params: [&lt;references to capsules&gt;]</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="113" x="102" y="524.6822">result: [&lt;capsule hosts&gt;]</text><rect fill="#FEFECE" filter="url(#f1)" height="79.1522" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="178" y="592.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="255.5" y="604.2481">«RemoteExecution»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="272" y="621.0922">InstallCapsule</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="179" x2="443" y1="626.5122" y2="626.5122"/><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="254" x="184" y="640.0422">host: &lt;reference to GenerateAndDistributeCertificates&gt;</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="145" x="184" y="652.4222">command: "capsule-installer ..."</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="195" x="184" y="664.8022">parameters: [oauth_key, oauth_secret, ...]</text><path d="M106.834,73.1 C120.427,92.23 139.677,119.323 156.903,143.567 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="159.87,147.743,157.9182,138.0895,156.9741,143.667,151.3966,142.7229,159.87,147.743" style="stroke: #808080; stroke-width: 1.0;"/><path d="M277.646,87.539 C265.39,104.631 250.821,124.947 237.461,143.578 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="234.451,147.774,242.947,142.7923,237.3653,143.7111,236.4464,138.1294,234.451,147.774" style="stroke: #808080; stroke-width: 1.0;"/><path d="M197,252.297 C197,272.615 197,295.265 197,313.206 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="197,318.615,201,309.615,197,313.615,193,309.615,197,318.615" style="stroke: #808080; stroke-width: 1.0;"/><path d="M219.251,373.326 C233.708,391.08 252.988,414.757 270.142,435.823 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="273.319,439.724,270.7378,430.2194,270.1618,435.8468,264.5344,435.2708,273.319,439.724" style="stroke: #808080; stroke-width: 1.0;"/><path d="M397.694,379.533 C384.038,396.304 367.226,416.95 352.054,435.583 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="348.642,439.773,357.4266,435.3198,351.7992,435.8958,351.2232,430.2684,348.642,439.773" style="stroke: #808080; stroke-width: 1.0;"/><path d="M311,532.195 C311,549.76 311,569.729 311,587.1657 " fill="none" style="stroke: #808080; stroke-width: 1.0;"/><polygon fill="#808080" points="311,592.4903,315,583.4903,311,587.4903,307,583.4903,311,592.4903" style="stroke: #808080; stroke-width: 1.0;"/></g></svg>